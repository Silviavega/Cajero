/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package cajero;

import Modelo.Usuario;
import java.text.SimpleDateFormat;
import java.util.Date;
import javax.swing.JOptionPane;
import validar.Validar;
import validar.limiteTexto;

/**
 *
 * @author hp1
 */
public class VUsuario extends javax.swing.JInternalFrame {

    /**
     * Creates new form VUsuario
     */
    public VUsuario() {
        initComponents();
        this.setLocation(390,10);
    letras();
    numeros();
    limpiar();
    limite();
    
    }
    
    
    Usuario user;
String modicar="";
    public Object vUsuario;
  
    public void limite(){
txtCedula.setDocument(new limiteTexto(10));
txtCelular.setDocument(new limiteTexto(10));

}
    
    public void numeros(){
    Validar.soloNumeros(txtCedula);
    Validar.soloNumeros(txtCelular);

    }
    
   
    
   public void letras(){
       
   Validar.soloLetras(txtApe);
    Validar.soloLetras(txtNombre);
    Validar.soloLetras(txtDireccion);
    }
    
public static String fechaActual(){
    Date d= new Date();
    SimpleDateFormat formatoFecha= new SimpleDateFormat("YYYY-MM-dd");
    return formatoFecha.format(d);
  }
public static String horaActual() {
    Date ahora = new Date();
    SimpleDateFormat formateador = new SimpleDateFormat("hh:mm:ss");
    return formateador.format(ahora);
}



    void limpiar()
    {
    modicar="insertar";
    txtCod.setText("");
    btnGuardar.setEnabled(true);
    btnModificar.setEnabled(false);
       
    this.txtCedula.setText("");
    this.txtCedula.setEditable(true);
    txtCedula.setEnabled(true);
    
    this.txtDireccion.setText("");
    this.txtDireccion.setEditable(true);
    txtDireccion.setEnabled(true);
    
    this.txtNombre.setText("");
    txtNombre.setEditable(true);
    txtNombre.setEnabled(true);
    this.txtApe.setText("");
    txtApe.setEnabled(true);
    this.txtApe.setEditable(true);
    
    this.txtCelular.setText("");
    this.txtCelular.setEditable(true);
    txtCelular.setEnabled(true);
    
    this.txtNumCuenta.setText("");
    this.txtNumCuenta.setEditable(true);
    this.txtNumCuenta.setEnabled(true);
    
    
    this.txtClaveCuenta.setText("");
    this.txtClaveCuenta.setEditable(true);
    txtClaveCuenta.setEnabled(true);
    
    this.txtSaldoCuenta.setText("");
    this.txtSaldoCuenta.setEditable(true);
    this.txtSaldoCuenta.setEnabled(true);
    
    
    
//Limpiar el grupo de radio button 
//    buttonGroup1.clearSelection();
    //Remover los item del combox
  cboTipoCuenta.setEnabled(true);
   cboTipoCuenta.removeAllItems();
   cboTipoCuenta.addItem("Corriente");
   cboTipoCuenta.addItem("Ahorros");
   
   }
 
    void desabilitarBoton(){
       btnGuardar.setEnabled(true);
       btnModificar.setEnabled(false);
      
    }
    void hablititarCajas(){
txtCedula.setEditable(false);
txtCedula.setEnabled(true);
txtDireccion.setEditable(false);
txtDireccion.setEnabled(true);
txtCelular.setEditable(false);
txtCelular.setEnabled(true);
txtClaveCuenta.setEditable(false);
txtClaveCuenta.setEnabled(true);
txtNumCuenta.setEditable(false);
txtNumCuenta.setEnabled(true);
txtClaveCuenta.setEditable(false);
txtClaveCuenta.setEnabled(true);
txtSaldoCuenta.setEditable(false);
txtSaldoCuenta.setEnabled(true);
txtNombre.setEditable(false);
txtNombre.setEnabled(true);
txtApe.setEditable(false);
txtApe.setEnabled(true);
cboTipoCuenta.setEnabled(true);
    }
    
    

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">                          
    private void initComponents() {

        jPanel1 = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        cboTipoCuenta = new javax.swing.JComboBox();
        jLabel4 = new javax.swing.JLabel();
        jLabel3 = new javax.swing.JLabel();
        txtApe = new javax.swing.JTextField();
        txtNombre = new javax.swing.JTextField();
        btnBuscar1 = new javax.swing.JButton();
        jLabel2 = new javax.swing.JLabel();
        txtCedula = new javax.swing.JTextField();
        jLabel5 = new javax.swing.JLabel();
        jLabel6 = new javax.swing.JLabel();
        jLabel7 = new javax.swing.JLabel();
        jLabel8 = new javax.swing.JLabel();
        jLabel9 = new javax.swing.JLabel();
        txtNumCuenta = new javax.swing.JTextField();
        txtSaldoCuenta = new javax.swing.JTextField();
        txtClaveCuenta = new javax.swing.JTextField();
        txtDireccion = new javax.swing.JTextField();
        txtCelular = new javax.swing.JTextField();
        jLabel10 = new javax.swing.JLabel();
        jPanel2 = new javax.swing.JPanel();
        btnGuardar = new javax.swing.JButton();
        btnModificar = new javax.swing.JButton();
        btnSalir = new javax.swing.JButton();
        btnLimpiar = new javax.swing.JButton();
        txtCod = new javax.swing.JTextField();

        setTitle("Usuarios Registrados");
        setToolTipText("");
        getContentPane().setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        jPanel1.setBorder(new javax.swing.border.SoftBevelBorder(javax.swing.border.BevelBorder.RAISED));

        jLabel1.setFont(new java.awt.Font("Times New Roman", 1, 16)); // NOI18N
        jLabel1.setText("Nombre:");

        cboTipoCuenta.setFont(new java.awt.Font("Times New Roman", 0, 18)); // NOI18N
        cboTipoCuenta.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Corriente", "Ahorros" }));
        cboTipoCuenta.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cboTipoCuentaActionPerformed(evt);
            }
        });

        jLabel4.setFont(new java.awt.Font("Times New Roman", 1, 16)); // NOI18N
        jLabel4.setText("Tipo Cuenta:");

        jLabel3.setFont(new java.awt.Font("Times New Roman", 1, 16)); // NOI18N
        jLabel3.setText("Apellidos:");

        txtApe.setFont(new java.awt.Font("Times New Roman", 0, 14)); // NOI18N

        txtNombre.setFont(new java.awt.Font("Times New Roman", 0, 14)); // NOI18N

        btnBuscar1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Img/buscarCliente.png"))); // NOI18N
        btnBuscar1.setToolTipText("Buscar");
        btnBuscar1.setName("bntBcr"); // NOI18N
        btnBuscar1.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                btnBuscar1MouseClicked(evt);
            }
        });
        btnBuscar1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnBuscar1ActionPerformed(evt);
            }
        });

        jLabel2.setFont(new java.awt.Font("Times New Roman", 1, 16)); // NOI18N
        jLabel2.setText("Cédula");

        jLabel5.setFont(new java.awt.Font("Times New Roman", 1, 16)); // NOI18N
        jLabel5.setText("Dirección:");

        jLabel6.setFont(new java.awt.Font("Times New Roman", 1, 16)); // NOI18N
        jLabel6.setText("Celular:");

        jLabel7.setFont(new java.awt.Font("Times New Roman", 1, 16)); // NOI18N
        jLabel7.setText("N° Cuenta:");

        jLabel8.setFont(new java.awt.Font("Times New Roman", 1, 16)); // NOI18N
        jLabel8.setText("Clave:");

        jLabel9.setFont(new java.awt.Font("Times New Roman", 1, 16)); // NOI18N
        jLabel9.setText("Saldo Cuenta:");

        txtNumCuenta.setEditable(false);

        txtSaldoCuenta.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtSaldoCuentaActionPerformed(evt);
            }
        });

        jLabel10.setFont(new java.awt.Font("Arial Black", 1, 16)); // NOI18N
        jLabel10.setForeground(new java.awt.Color(255, 51, 51));
        jLabel10.setText("Registro Usuario");

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(177, 177, 177)
                .addComponent(jLabel10))
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addComponent(jLabel2)
                .addGap(123, 123, 123)
                .addComponent(txtCedula, javax.swing.GroupLayout.PREFERRED_SIZE, 241, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(22, 22, 22)
                .addComponent(btnBuscar1, javax.swing.GroupLayout.PREFERRED_SIZE, 36, javax.swing.GroupLayout.PREFERRED_SIZE))
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addComponent(jLabel1)
                .addGap(111, 111, 111)
                .addComponent(txtNombre, javax.swing.GroupLayout.PREFERRED_SIZE, 241, javax.swing.GroupLayout.PREFERRED_SIZE))
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addComponent(jLabel3)
                .addGap(103, 103, 103)
                .addComponent(txtApe, javax.swing.GroupLayout.PREFERRED_SIZE, 241, javax.swing.GroupLayout.PREFERRED_SIZE))
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addComponent(jLabel5)
                .addGap(101, 101, 101)
                .addComponent(txtDireccion, javax.swing.GroupLayout.PREFERRED_SIZE, 241, javax.swing.GroupLayout.PREFERRED_SIZE))
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addComponent(jLabel6)
                .addGap(116, 116, 116)
                .addComponent(txtCelular, javax.swing.GroupLayout.PREFERRED_SIZE, 241, javax.swing.GroupLayout.PREFERRED_SIZE))
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addComponent(jLabel4)
                .addGap(83, 83, 83)
                .addComponent(cboTipoCuenta, javax.swing.GroupLayout.PREFERRED_SIZE, 240, javax.swing.GroupLayout.PREFERRED_SIZE))
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addComponent(jLabel7)
                .addGap(95, 95, 95)
                .addComponent(txtNumCuenta, javax.swing.GroupLayout.PREFERRED_SIZE, 241, javax.swing.GroupLayout.PREFERRED_SIZE))
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addComponent(jLabel9)
                .addGap(76, 76, 76)
                .addComponent(txtSaldoCuenta, javax.swing.GroupLayout.PREFERRED_SIZE, 241, javax.swing.GroupLayout.PREFERRED_SIZE))
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addComponent(jLabel8)
                .addGap(126, 126, 126)
                .addComponent(txtClaveCuenta, javax.swing.GroupLayout.PREFERRED_SIZE, 241, javax.swing.GroupLayout.PREFERRED_SIZE))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(8, 8, 8)
                .addComponent(jLabel10)
                .addGap(6, 6, 6)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(btnBuscar1, javax.swing.GroupLayout.PREFERRED_SIZE, 43, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGap(10, 10, 10)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel2)
                            .addComponent(txtCedula, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))))
                .addGap(7, 7, 7)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel1)
                    .addComponent(txtNombre, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(17, 17, 17)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel3)
                    .addComponent(txtApe, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(17, 17, 17)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel5)
                    .addComponent(txtDireccion, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(10, 10, 10)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel6)
                    .addComponent(txtCelular, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(10, 10, 10)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel4)
                    .addComponent(cboTipoCuenta, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(12, 12, 12)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel7)
                    .addComponent(txtNumCuenta, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(10, 10, 10)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel9)
                    .addComponent(txtSaldoCuenta, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(20, 20, 20)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel8)
                    .addComponent(txtClaveCuenta, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
        );

        getContentPane().add(jPanel1, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 0, 490, 440));

        jPanel2.setBorder(new javax.swing.border.SoftBevelBorder(javax.swing.border.BevelBorder.RAISED));
        jPanel2.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        btnGuardar.setBackground(new java.awt.Color(153, 204, 255));
        btnGuardar.setFont(new java.awt.Font("Algerian", 1, 14)); // NOI18N
        btnGuardar.setForeground(new java.awt.Color(255, 255, 255));
        btnGuardar.setText("Guardar");
        btnGuardar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnGuardarActionPerformed(evt);
            }
        });
        jPanel2.add(btnGuardar, new org.netbeans.lib.awtextra.AbsoluteConstraints(80, 40, 115, -1));

        btnModificar.setBackground(new java.awt.Color(153, 204, 255));
        btnModificar.setFont(new java.awt.Font("Algerian", 1, 14)); // NOI18N
        btnModificar.setForeground(new java.awt.Color(255, 255, 255));
        btnModificar.setText("Modificar");
        btnModificar.setEnabled(false);
        btnModificar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnModificarActionPerformed(evt);
            }
        });
        jPanel2.add(btnModificar, new org.netbeans.lib.awtextra.AbsoluteConstraints(280, 10, 115, -1));

        btnSalir.setBackground(new java.awt.Color(255, 51, 51));
        btnSalir.setFont(new java.awt.Font("Algerian", 1, 14)); // NOI18N
        btnSalir.setForeground(new java.awt.Color(255, 255, 255));
        btnSalir.setText("Salir");
        btnSalir.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnSalirActionPerformed(evt);
            }
        });
        jPanel2.add(btnSalir, new org.netbeans.lib.awtextra.AbsoluteConstraints(280, 40, 115, -1));

        btnLimpiar.setBackground(new java.awt.Color(255, 255, 255));
        btnLimpiar.setFont(new java.awt.Font("Algerian", 1, 14)); // NOI18N
        btnLimpiar.setForeground(new java.awt.Color(0, 153, 255));
        btnLimpiar.setText("Nuevo");
        btnLimpiar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnLimpiarActionPerformed(evt);
            }
        });
        jPanel2.add(btnLimpiar, new org.netbeans.lib.awtextra.AbsoluteConstraints(80, 10, 115, -1));

        getContentPane().add(jPanel2, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 450, 490, 70));

        txtCod.setEditable(false);
        txtCod.setEnabled(false);
        getContentPane().add(txtCod, new org.netbeans.lib.awtextra.AbsoluteConstraints(509, 179, 10, -1));

        pack();
    }// </editor-fold>                        

    private void cboTipoCuentaActionPerformed(java.awt.event.ActionEvent evt) {                                              

    }                                             

    private void btnBuscar1MouseClicked(java.awt.event.MouseEvent evt) {                                        

    }                                       

    private void btnBuscar1ActionPerformed(java.awt.event.ActionEvent evt) {                                           
        btnLimpiar.setEnabled(true);
        btnModificar.setEnabled(true);
        btnGuardar.setEnabled(false);
         vUsuarioRegistrado vConsultaUser = new vUsuarioRegistrado();
        Principal.escritorio.add(vConsultaUser);
        vConsultaUser.toFront();
        vConsultaUser.setVisible(true);
    }                                          

    private void btnGuardarActionPerformed(java.awt.event.ActionEvent evt) {                                           
        
        Validar.decimalOEntero(txtSaldoCuenta); 
        
        user=new Usuario(txtCedula.getText().toString(),txtNombre.getText().toString(),txtApe.getText().toString(),txtDireccion.getText().toString(),txtCelular.getText().toString(),cboTipoCuenta.getSelectedIndex()+1, txtNumCuenta.getText(),txtClaveCuenta.getText(),txtSaldoCuenta.getText());
      
        if(!txtNombre.getText().isEmpty()&&!txtApe.getText().isEmpty()&&!txtCedula.getText().isEmpty()&&!txtDireccion.getText().isEmpty() && !txtCelular.getText().isEmpty()&&!txtNumCuenta.getText().isEmpty()&& !txtSaldoCuenta.getText().isEmpty()&& !txtClaveCuenta.getText().isEmpty()){
        
            if (txtCedula.getText().length()==10 && txtCelular.getText().length()==10 ) {
                 if(modicar.equals("insertar")){
                if (user.insertarUsu()>0){
                    JOptionPane.showMessageDialog(null, "Usuario registrado correctamente :");
                    limpiar();
                }
            }
            ////    para modificar
            if(modicar.equals("guardar")){
                if(user.actualizar()>0){
                    JOptionPane.showMessageDialog(null, "Información Usuario actualizada correctamente..");
                }else{
                     JOptionPane.showMessageDialog(null, "Hubo un Error  Intente nuevamente");
                }            
                
            }
            }else
             JOptionPane.showMessageDialog(null, "Por favor ingresar 10 diguitos en el campo cédula o telefono");
        
           
        
        
        
        }
        else{
            JOptionPane.showMessageDialog(null, "Llenar todos los campos para el registro de un nuevo Usuario: ");
        }
        
        
        
    }                                          

    private void btnSalirActionPerformed(java.awt.event.ActionEvent evt) {                                         
        this.dispose();
    }                                        

    private void btnLimpiarActionPerformed(java.awt.event.ActionEvent evt) {                                           
        limpiar();
    }                                          

    private void txtSaldoCuentaActionPerformed(java.awt.event.ActionEvent evt) {                                               
         // TODO add your handling code here:
    }                                              

    private void btnModificarActionPerformed(java.awt.event.ActionEvent evt) {                                             
        hablititarCajas();
        desabilitarBoton();
        modicar="guardar";
        JOptionPane.showMessageDialog(null, "Pulsar el boton guardar si desea actualizar datos ..");
    }                                            


    // Variables declaration - do not modify                     
    private javax.swing.JButton btnBuscar1;
    private javax.swing.JButton btnGuardar;
    private javax.swing.JButton btnLimpiar;
    private javax.swing.JButton btnModificar;
    private javax.swing.JButton btnSalir;
    public static javax.swing.JComboBox cboTipoCuenta;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    public static javax.swing.JTextField txtApe;
    public static javax.swing.JTextField txtCedula;
    public static javax.swing.JTextField txtCelular;
    public static javax.swing.JTextField txtClaveCuenta;
    public static javax.swing.JTextField txtCod;
    public static javax.swing.JTextField txtDireccion;
    public static javax.swing.JTextField txtNombre;
    public static javax.swing.JTextField txtNumCuenta;
    public static javax.swing.JTextField txtSaldoCuenta;
    // End of variables declaration                   
}
